---
sidebar_position: 7
draft: false
---

# Redis

Redis® (Remote Dictionary Server) — это хранилище данных «ключ-значение» в памяти с открытым исходным кодом, которое работает как база данных, кэш или брокер сообщений. Он интегрируется с современными веб-приложениями для повышения производительности и снижения нагрузки на сервер за счет хранения повторяющихся запросов, таких как запросы к базе данных, в памяти. В Ubuntu 24.04 Redis® извлекает выгоду из стабильности системы, обновлений безопасности и управления пакетами, что делает его надежным выбором для высокопроизводительного кэширования и обработки данных в реальном времени.

В этой статье объясняется, как установить Redis® на Ubuntu 24.04 и получить доступ к базе данных для ее интеграции с другими приложениями на вашем сервере

## Установка

```
sudo apt update
sudo apt install redis-server
redis-server --version

// Redis server v=7.0.15 sha=00000000:0 malloc=jemalloc-5.3.0 bits=64 build=3ec7bf4ec5bfafb8

```

`Redis` прослушивает запросы на подключение на порту `localhost` по умолчанию `6379` на вашем сервере. На следующих шагах настройте `Redis` для увеличения лимита базы данных по умолчанию и приема подключений на `127.0.0.1` адресе `localhost`.

Откройте основной файл конфигурации `Redis` с помощью текстового редактора, например `nano`.

```
sudo nano /etc/redis/redis.conf
```

Найдите следующую директиву и убедитесь, что значения `IPV4` и `IPV6` `bind` локального хоста доступны `127.0.0.1::1`

```
bind 127.0.0.1 -::1
```

Найдите `port` директиву и проверьте порт `Redis` по умолчанию или измените его на пользовательский порт `TCP`, доступный на вашем сервере.

```
port 6379
```

Найдите следующую `daemonize` директиву и убедитесь, что она настроена `yes` на включение службы `Redis` на вашем сервере.

```
daemonize yes
```

Включите автоматический запуск сервера Redis при загрузке.

```
sudo systemctl enable redis-server.service
```

Запустите службу Redis

```
sudo systemctl start redis
```

Проверьте состояние сервера Redis и убедитесь, что он работает.

```
sudo systemctl status redis
```

## Безопасность

Redis не требует аутентификации по умолчанию, что обеспечивает неограниченный доступ пользователей системы к доступным базам данных на сервере. На следующих шагах включите аутентификацию, чтобы защитить свой сервер `Redis` и разрешить доступ только авторизованным пользователям.

Откройте основной файл конфигурации `Redis`.

```
sudo nano /etc/redis/redis.conf
```

Найдите следующую `requirepass` директиву, раскомментируйте ее и замените `foobared` надежным паролем по вашему выбору.

Сохраните и закройте файл.

Вышеуказанная конфигурация включает аутентификацию на вашем сервере `Redis` с использованием указанного пароля пользователя. Раскомментируйте `aclfile` директиву, чтобы разрешить нескольким пользователям с уникальными паролями авторизоваться для доступа к вашему серверу `Redis`.

Перезапустите сервер `Redis`, чтобы применить изменения конфигурации.

```
sudo systemctl restart redis
```

## Доступ к серверу Redis

Сервер `Redis` принимает запросы на подключение с помощью `redis-cli` утилиты или совместимых модулей приложений на вашем сервере. На следующих этапах получите доступ к серверу `Redis` и получите тестовый доступ для записи образцов данных в базу данных по умолчанию, чтобы протестировать конфигурации вашего сервера.

Подключитесь к серверу `Redis`

```
redis-cli
```

Тестовый доступ к серверу без аутентификации.

```
127.0.0.1:6379> ping
```

Войдите на сервер `Redis`, используя действительный пароль, установленный в вашей конфигурации. Замените `strong-password` на фактический пароль, который вы установили ранее.

```
127.0.0.1:6379> auth strong-password

// OK
```

Выберите базу данных для использования на вашем сервере. Например 1.

```
127.0.0.1:6379> SELECT 1
```

Создайте новый образец ключа `testkey` со значением, например `Greetings from Vultr!`.

```
$ 127.0.0.1:6379[1]> set testkey "Greetings from Vultr!" 
// OK
```  

Запросить значение ключа из базы данных.

```
$ 127.0.0.1:6379[1]>  get testkey
// "Greetings from Vultr!"
```

Выйдите из `Redis CLI`.

```
$ 127.0.0.1:6379[1]> exit
```
